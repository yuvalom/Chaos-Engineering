[2023-09-27 09:22:43 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:22:43 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:22:43 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:22:44 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:22:44 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:22:44 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:22:44 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:22:44 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:22:44 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:22:44 INFO] [experiment:58] Validating the experiment's syntax
[2023-09-27 09:22:44 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:22:44 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:22:44 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:22:44 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:22:44 ERROR] [cli:278] required argument 'name' is missing from activity 'microservice_available_and_healthy'
[2023-09-27 09:22:44 DEBUG] [cli:279] required argument 'name' is missing from activity 'microservice_available_and_healthy'
[2023-09-27 09:26:42 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:26:42 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:26:42 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:26:44 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:26:44 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:26:44 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:26:44 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:27:16 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:27:16 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:27:16 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:27:17 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:27:17 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:27:17 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:27:17 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:27:17 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:27:17 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:27:17 INFO] [experiment:58] Validating the experiment's syntax
[2023-09-27 09:27:17 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:27:17 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:27:17 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:27:18 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:27:18 ERROR] [cli:278] The python module 'chaosk8s.actions' does not expose a function called 'terminate_pods' in action 'terminate-webapp-pod'
[2023-09-27 09:27:18 DEBUG] [cli:279] The python module 'chaosk8s.actions' does not expose a function called 'terminate_pods' in action 'terminate-webapp-pod'
[2023-09-27 09:28:27 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:28:27 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:28:27 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:28:29 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:28:29 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:28:29 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:28:29 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:28:29 INFO] [experiment:58] Validating the experiment's syntax
[2023-09-27 09:28:29 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:28:29 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:28:29 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:28:29 INFO] [experiment:109] Experiment looks valid
[2023-09-27 09:28:29 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:28:29 DEBUG] [cli:314] Runtime strategies: hypothesis - default / rollbacks - default
[2023-09-27 09:28:29 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:28:29 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:28:29 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:28:29 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:28:29 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:28:29 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-09-27 09:28:29 INFO] [run:369] Running experiment: System is resilient to provider's failures
[2023-09-27 09:28:29 DEBUG] [__init__:64] Initializing controls
[2023-09-27 09:28:29 INFO] [run:396] Steady-state strategy: default
[2023-09-27 09:28:29 INFO] [run:400] Rollbacks strategy: default
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:28:29 DEBUG] [run:558] Running steady-state hypothesis before the method
[2023-09-27 09:28:29 INFO] [hypothesis:186] Steady state hypothesis: Services are all available and healthy
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:28:29 INFO] [activity:215] Probe: all-services-are-healthy
[2023-09-27 09:28:29 DEBUG] [python:33] Activity 'all-services-are-healthy' loaded from '/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py'
[2023-09-27 09:28:29 WARNING] [__init__:186] microservice_available_and_healthy function is DEPRECATED and will be removed in the next         releases, please use deployment_available_and_healthy instead
[2023-09-27 09:28:29 DEBUG] [activity:292] Activity failed
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 174, in _new_conn
        conn = connection.create_connection(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 95, in create_connection
        raise err
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 714, in urlopen
        httplib_response = self._make_request(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 415, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 244, in request
        super(HTTPConnection, self).request(method, url, body=body, headers=headers)
      File "/usr/lib/python3.10/http/client.py", line 1282, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1328, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1277, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1037, in _send_output
        self.send(msg)
      File "/usr/lib/python3.10/http/client.py", line 975, in send
        self.connect()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 205, in connect
        conn = self._new_conn()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 186, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f10f1f68220>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f10f1f68220>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/activity.py", line 285, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    chaoslib.exceptions.ActivityFailed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f10f1f68220>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:28:29 ERROR] [activity:243]   => failed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f10f1f68220>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:28:29 WARNING] [hypothesis:213] Probe terminated unexpectedly, so its tolerance could not be validated
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:28:29 CRITICAL] [run:570] Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[2023-09-27 09:28:29 INFO] [run:510] Experiment ended with status: failed
[2023-09-27 09:28:29 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:28:29 DEBUG] [__init__:103] Cleaning up controls
[2023-09-27 09:28:29 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:30:50 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:30:50 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:30:50 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:30:51 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:30:51 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:30:51 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:30:51 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:30:51 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:30:51 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:30:51 INFO] [experiment:58] Validating the experiment's syntax
[2023-09-27 09:30:51 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:30:51 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:30:51 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:30:52 INFO] [experiment:109] Experiment looks valid
[2023-09-27 09:30:52 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:30:52 DEBUG] [cli:314] Runtime strategies: hypothesis - default / rollbacks - default
[2023-09-27 09:30:52 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:30:52 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:30:52 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:30:52 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:30:52 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:30:52 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-09-27 09:30:52 INFO] [run:369] Running experiment: System is resilient to provider's failures
[2023-09-27 09:30:52 DEBUG] [__init__:64] Initializing controls
[2023-09-27 09:30:52 INFO] [run:396] Steady-state strategy: default
[2023-09-27 09:30:52 INFO] [run:400] Rollbacks strategy: default
[2023-09-27 09:30:52 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:30:52 DEBUG] [run:558] Running steady-state hypothesis before the method
[2023-09-27 09:30:52 INFO] [hypothesis:186] Steady state hypothesis: Services are all available and healthy
[2023-09-27 09:30:52 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:30:52 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:30:52 INFO] [activity:215] Probe: all-services-are-healthy
[2023-09-27 09:30:52 DEBUG] [python:33] Activity 'all-services-are-healthy' loaded from '/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py'
[2023-09-27 09:30:52 WARNING] [__init__:186] microservice_available_and_healthy function is DEPRECATED and will be removed in the next         releases, please use deployment_available_and_healthy instead
[2023-09-27 09:30:52 DEBUG] [activity:292] Activity failed
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 174, in _new_conn
        conn = connection.create_connection(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 95, in create_connection
        raise err
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 714, in urlopen
        httplib_response = self._make_request(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 415, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 244, in request
        super(HTTPConnection, self).request(method, url, body=body, headers=headers)
      File "/usr/lib/python3.10/http/client.py", line 1282, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1328, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1277, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1037, in _send_output
        self.send(msg)
      File "/usr/lib/python3.10/http/client.py", line 975, in send
        self.connect()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 205, in connect
        conn = self._new_conn()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 186, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fc2725b64d0>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc2725b64d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/activity.py", line 285, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    chaoslib.exceptions.ActivityFailed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc2725b64d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:30:52 ERROR] [activity:243]   => failed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fc2725b64d0>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:30:52 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:30:52 WARNING] [hypothesis:213] Probe terminated unexpectedly, so its tolerance could not be validated
[2023-09-27 09:30:52 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:30:52 CRITICAL] [run:570] Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[2023-09-27 09:30:52 INFO] [run:510] Experiment ended with status: failed
[2023-09-27 09:30:52 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:30:52 DEBUG] [__init__:103] Cleaning up controls
[2023-09-27 09:30:52 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:37:16 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:37:16 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:37:16 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:37:17 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:37:17 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:37:17 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:37:17 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:37:17 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:37:17 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:37:17 INFO] [experiment:58] Validating the experiment's syntax
[2023-09-27 09:37:17 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:37:17 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:37:17 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:37:18 INFO] [experiment:109] Experiment looks valid
[2023-09-27 09:37:18 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:37:18 DEBUG] [cli:314] Runtime strategies: hypothesis - default / rollbacks - default
[2023-09-27 09:37:18 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:37:18 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:37:18 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:37:18 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:37:18 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:37:18 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-09-27 09:37:18 INFO] [run:369] Running experiment: System is resilient to provider's failures
[2023-09-27 09:37:18 DEBUG] [__init__:64] Initializing controls
[2023-09-27 09:37:18 INFO] [run:396] Steady-state strategy: default
[2023-09-27 09:37:18 INFO] [run:400] Rollbacks strategy: default
[2023-09-27 09:37:18 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:37:18 DEBUG] [run:558] Running steady-state hypothesis before the method
[2023-09-27 09:37:18 INFO] [hypothesis:186] Steady state hypothesis: Services are all available and healthy
[2023-09-27 09:37:18 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:37:18 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:37:18 INFO] [activity:215] Probe: all-services-are-healthy
[2023-09-27 09:37:18 DEBUG] [python:33] Activity 'all-services-are-healthy' loaded from '/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py'
[2023-09-27 09:37:18 WARNING] [__init__:186] microservice_available_and_healthy function is DEPRECATED and will be removed in the next         releases, please use deployment_available_and_healthy instead
[2023-09-27 09:37:18 DEBUG] [activity:292] Activity failed
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 174, in _new_conn
        conn = connection.create_connection(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 95, in create_connection
        raise err
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 714, in urlopen
        httplib_response = self._make_request(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 415, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 244, in request
        super(HTTPConnection, self).request(method, url, body=body, headers=headers)
      File "/usr/lib/python3.10/http/client.py", line 1282, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1328, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1277, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1037, in _send_output
        self.send(msg)
      File "/usr/lib/python3.10/http/client.py", line 975, in send
        self.connect()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 205, in connect
        conn = self._new_conn()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 186, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fa615c3b940>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa615c3b940>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/activity.py", line 285, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    chaoslib.exceptions.ActivityFailed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa615c3b940>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:37:18 ERROR] [activity:243]   => failed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa615c3b940>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:37:18 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:37:18 WARNING] [hypothesis:213] Probe terminated unexpectedly, so its tolerance could not be validated
[2023-09-27 09:37:18 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:37:18 CRITICAL] [run:570] Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[2023-09-27 09:37:18 INFO] [run:510] Experiment ended with status: failed
[2023-09-27 09:37:18 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:37:18 DEBUG] [__init__:103] Cleaning up controls
[2023-09-27 09:37:18 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:50:02 DEBUG] [cli:114] ###############################################################################
[2023-09-27 09:50:02 DEBUG] [cli:115] Running command 'run'
[2023-09-27 09:50:02 DEBUG] [cli:119] Using settings file '/home/svc/.chaostoolkit/settings.yaml'
[2023-09-27 09:50:04 WARNING] [check:33] 
    There is a new version (1.16.0) of the chaostoolkit available.
    You may upgrade by typing:
    
    $ pip install -U chaostoolkit
    
    Please review changes at https://github.com/chaostoolkit/chaostoolkit/blob/master/CHANGELOG.md
    
[2023-09-27 09:50:04 DEBUG] [settings:30] The Chaos Toolkit settings file could not be found at '/home/svc/.chaostoolkit/settings.yaml'.
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'loader'
[2023-09-27 09:50:04 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:50:04 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:50:04 INFO] [experiment:58] Validating the experiment's syntax
[2023-09-27 09:50:04 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:50:04 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:50:04 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:50:04 INFO] [experiment:109] Experiment looks valid
[2023-09-27 09:50:04 DEBUG] [caching:42] Clearing activities cache
[2023-09-27 09:50:04 DEBUG] [cli:314] Runtime strategies: hypothesis - default / rollbacks - default
[2023-09-27 09:50:04 DEBUG] [caching:24] Building activity cache...
[2023-09-27 09:50:04 DEBUG] [caching:35] Cached 3 activities
[2023-09-27 09:50:04 DEBUG] [configuration:63] Loading configuration...
[2023-09-27 09:50:04 DEBUG] [secret:78] Loading secrets...
[2023-09-27 09:50:04 DEBUG] [secret:103] Done loading secrets
[2023-09-27 09:50:04 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-09-27 09:50:04 INFO] [run:369] Running experiment: System is resilient to provider's failures
[2023-09-27 09:50:04 DEBUG] [__init__:64] Initializing controls
[2023-09-27 09:50:04 INFO] [run:396] Steady-state strategy: default
[2023-09-27 09:50:04 INFO] [run:400] Rollbacks strategy: default
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:50:04 DEBUG] [run:558] Running steady-state hypothesis before the method
[2023-09-27 09:50:04 INFO] [hypothesis:186] Steady state hypothesis: Services are all available and healthy
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:50:04 INFO] [activity:215] Probe: all-services-are-healthy
[2023-09-27 09:50:04 DEBUG] [python:33] Activity 'all-services-are-healthy' loaded from '/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py'
[2023-09-27 09:50:04 WARNING] [__init__:186] microservice_available_and_healthy function is DEPRECATED and will be removed in the next         releases, please use deployment_available_and_healthy instead
[2023-09-27 09:50:04 DEBUG] [activity:292] Activity failed
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 174, in _new_conn
        conn = connection.create_connection(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 95, in create_connection
        raise err
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/connection.py", line 85, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 714, in urlopen
        httplib_response = self._make_request(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 415, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 244, in request
        super(HTTPConnection, self).request(method, url, body=body, headers=headers)
      File "/usr/lib/python3.10/http/client.py", line 1282, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1328, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1277, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.10/http/client.py", line 1037, in _send_output
        self.send(msg)
      File "/usr/lib/python3.10/http/client.py", line 975, in send
        self.connect()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 205, in connect
        conn = self._new_conn()
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connection.py", line 186, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f4db8eafe50>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4db8eafe50>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/activity.py", line 285, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/svc/.venv/lib/python3.10/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/probes.py", line 48, in microservice_available_and_healthy
        deployment_available_and_healthy(name, ns, label_selector, secrets=secrets)
      File "/home/svc/.venv/lib/python3.10/site-packages/chaosk8s/deployment/probes.py", line 46, in deployment_available_and_healthy
        ret = v1.list_namespaced_deployment(ns, field_selector=field_selector)
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3396, in list_namespaced_deployment
        return self.list_namespaced_deployment_with_http_info(namespace, **kwargs)  # noqa: E501
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api/apps_v1_api.py", line 3515, in list_namespaced_deployment_with_http_info
        return self.api_client.call_api(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 348, in call_api
        return self.__call_api(resource_path, method,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 180, in __call_api
        response_data = self.request(
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/api_client.py", line 373, in request
        return self.rest_client.GET(url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 244, in GET
        return self.request("GET", url,
      File "/home/svc/.venv/lib/python3.10/site-packages/kubernetes/client/rest.py", line 217, in request
        r = self.pool_manager.request(method, url,
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 74, in request
        return self.request_encode_url(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/request.py", line 96, in request_encode_url
        return self.urlopen(method, url, **extra_kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/poolmanager.py", line 376, in urlopen
        response = conn.urlopen(method, u.request_uri, **kw)
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 826, in urlopen
        return self.urlopen(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 798, in urlopen
        retries = retries.increment(
      File "/home/svc/.venv/lib/python3.10/site-packages/urllib3/util/retry.py", line 592, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    chaoslib.exceptions.ActivityFailed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4db8eafe50>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:50:04 ERROR] [activity:243]   => failed: urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=80): Max retries exceeded with url: /apis/apps/v1/namespaces/default/deployments?fieldSelector=metadata.name%3Dweb-service-app-deployment (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f4db8eafe50>: Failed to establish a new connection: [Errno 111] Connection refused'))
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'activity'
[2023-09-27 09:50:04 WARNING] [hypothesis:213] Probe terminated unexpectedly, so its tolerance could not be validated
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'hypothesis'
[2023-09-27 09:50:04 CRITICAL] [run:570] Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[2023-09-27 09:50:04 INFO] [run:510] Experiment ended with status: failed
[2023-09-27 09:50:04 DEBUG] [__init__:449] No controls to apply on 'experiment'
[2023-09-27 09:50:04 DEBUG] [__init__:103] Cleaning up controls
[2023-09-27 09:50:04 DEBUG] [caching:42] Clearing activities cache
[36m[2023-09-27 13:10:08 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:10:08 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:10:08 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:10:09 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:10:09 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:10:09 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:10:09 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:10:09 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:10:09 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:10:09 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:10:09 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:10:09 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:10:10 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:10:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:10:10 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:10:10 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:10:10 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:10:10 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:10:10 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:10:10 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:10:10 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:10:10 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:10:10 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:10:10 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:10:10 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:10:10 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:10:10 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:10:10 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:10:10 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:10:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:10:10 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:10:10 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:10:10 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:10:10 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:10:10 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:10:10 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:10:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:10:10 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:10:10 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:10:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:10:10 DEBUG] [actions:232][39m Found 0 pods labelled 'app=web-service-app-deployment' in ns default
[36m[2023-09-27 13:10:10 DEBUG] [activity:237][39m   => succeeded with '[]'
[32m[2023-09-27 13:10:10 INFO] [activity:257][39m Pausing after activity for 5s...
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:10:15 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:10:15 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:10:15 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:10:15 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:10:15 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:10:15 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:10:15 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 10:10:15 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:10:15 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:10:15 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:10:15 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:10:15 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:10:15 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:10:15 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:10:15 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:10:15 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:10:15 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:10:15 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:10:15 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:10:15 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:10:15 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:10:15 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:10:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:50:22 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:50:22 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:50:22 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:50:23 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:50:23 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:50:23 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:50:23 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:50:23 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:50:23 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:50:23 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:50:23 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:50:23 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:50:24 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:50:24 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:50:24 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:50:24 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:50:24 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:50:24 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:50:24 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:50:24 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:50:24 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:50:24 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:50:24 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:50:24 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:50:24 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:50:24 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:50:24 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:50:24 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:50:24 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:50:24 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:50:24 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:50:24 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:50:24 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:50:24 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:50:24 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:50:24 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:50:24 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:50:24 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:50:24 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:50:24 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:50:24 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:50:24 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-228bd' match pattern
[36m[2023-09-27 13:50:24 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-qk7rt' match pattern
[36m[2023-09-27 13:50:24 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-qk7rt']'
[32m[2023-09-27 13:50:24 INFO] [activity:257][39m Pausing after activity for 5s...
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:50:29 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:50:29 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:50:29 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:50:29 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:50:29 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:50:29 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:50:29 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 13:50:29 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:50:29 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:50:29 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:50:29 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:50:29 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:50:29 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:50:29 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:50:29 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:50:29 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:50:29 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:50:29 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:50:29 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:50:29 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:50:29 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:50:29 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:50:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:52:13 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:52:13 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:52:13 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:52:15 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:52:15 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:52:15 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:52:15 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:52:15 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:52:15 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:52:15 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:52:15 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:52:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:52:15 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:52:15 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:52:15 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:52:15 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:52:15 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:52:15 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:52:15 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:52:15 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:52:15 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:52:15 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:52:15 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:52:15 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:52:15 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:52:15 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:52:15 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:52:15 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:52:15 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:52:15 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:52:15 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:52:15 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:52:15 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:52:15 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:52:15 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:52:15 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:52:15 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:52:15 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:52:15 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:52:15 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-228bd' match pattern
[36m[2023-09-27 13:52:15 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:52:15 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-228bd']'
[32m[2023-09-27 13:52:15 INFO] [activity:257][39m Pausing after activity for 5s...
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:52:20 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:52:20 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:52:20 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:52:20 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:52:20 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:52:20 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:52:20 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 13:52:20 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:52:20 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:52:20 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:52:20 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:52:20 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:52:20 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:52:20 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:52:20 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:52:20 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:52:20 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:52:20 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:52:20 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:52:20 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:52:20 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:52:20 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:52:20 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:55:54 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:55:54 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:55:54 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:55:55 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:55:55 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:55:55 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:55:55 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:55:55 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:55:55 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:55:55 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:55:55 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:55:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:55:55 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:55:55 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:55:55 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:55:55 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:55:55 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:55:55 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:55:55 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:55:55 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:55:55 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:55:55 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:55:55 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:55:55 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:55:55 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:55:55 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:55:55 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:55:55 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:55:55 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:55:55 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:55:55 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:55:55 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:55:55 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:55:55 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:55:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:55:55 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:55:55 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:55:55 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:55:55 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:55:55 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:55:55 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-s9k8m' match pattern
[36m[2023-09-27 13:55:55 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-s9k8m']'
[32m[2023-09-27 13:55:55 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:56:05 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:56:05 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:56:05 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:56:05 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:56:05 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:56:05 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:56:05 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 13:56:05 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:56:05 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:56:05 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:56:05 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:56:05 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:56:05 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:56:05 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:56:05 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:56:05 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:56:05 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:56:05 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:56:05 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:56:05 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:56:05 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:56:05 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:56:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:57:08 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:57:08 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:57:08 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:57:09 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:57:09 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:57:09 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:57:09 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:57:09 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:57:09 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:57:09 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:57:09 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:57:09 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:57:10 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:57:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:57:10 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:57:10 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:57:10 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:57:10 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:57:10 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:57:10 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:57:10 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:57:10 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:57:10 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:57:10 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:57:10 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:57:10 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:57:10 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:10 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:57:10 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:57:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:10 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:57:10 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:57:10 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:10 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:57:10 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:57:10 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:57:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:10 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:57:10 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:57:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:10 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:57:10 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:57:10 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-sglxw' match pattern
[36m[2023-09-27 13:57:10 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-sglxw']'
[32m[2023-09-27 13:57:10 INFO] [activity:257][39m Pausing after activity for 15s...
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:25 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:57:25 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:25 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:57:25 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:57:25 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:25 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:57:25 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 10:57:25 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:57:25 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:57:25 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:25 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:57:25 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:25 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:57:25 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:57:25 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:25 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:57:25 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:57:25 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:57:25 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:57:25 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:57:25 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:57:25 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:57:25 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:57:42 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:57:42 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:57:42 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:57:43 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:57:43 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:57:43 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:57:43 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:57:43 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:57:43 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:57:43 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:57:43 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:57:43 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:57:43 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:57:43 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:57:43 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:57:43 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:57:43 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:57:43 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:57:43 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:57:43 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:57:43 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:57:43 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:57:43 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:57:43 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:57:43 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:43 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:57:43 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:57:43 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:43 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:57:43 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:57:43 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:43 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:57:43 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:57:43 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:57:43 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:43 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:57:43 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:57:43 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:43 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:57:43 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-9w686' match pattern
[36m[2023-09-27 13:57:43 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:57:43 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-9w686']'
[32m[2023-09-27 13:57:43 INFO] [activity:257][39m Pausing after activity for 15s...
[36m[2023-09-27 13:57:58 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:58 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:58 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:57:58 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:57:58 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:57:58 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:57:58 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:57:58 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:57:58 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:58 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:58 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:57:59 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 10:57:59 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 13:57:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:57:59 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:57:59 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:57:59 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:57:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:57:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:57:59 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:57:59 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:57:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:58:00 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:58:00 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:58:00 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:58:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:58:00 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:58:00 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:58:00 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:58:00 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:58:00 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:58:00 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:58:00 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:58:00 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:58:00 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:58:00 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:58:00 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:58:46 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:58:46 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:58:46 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:58:47 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:58:47 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:58:47 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:58:47 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:58:47 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:58:47 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:58:47 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:58:47 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:58:47 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:58:47 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:58:47 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:58:47 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:58:47 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:58:47 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:58:47 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:58:47 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:58:47 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:58:47 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:58:47 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:58:47 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:58:47 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:58:47 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:58:47 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:58:47 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:58:47 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:58:47 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:58:47 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:58:47 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:58:47 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:58:47 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:58:47 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:58:47 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:58:47 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:58:47 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:58:47 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:58:47 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:58:47 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-6dszb' match pattern
[36m[2023-09-27 13:58:47 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:58:47 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-6dszb']'
[32m[2023-09-27 13:58:47 INFO] [activity:257][39m Pausing after activity for 5s...
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:58:53 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:58:53 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:58:53 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:58:53 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:58:53 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:58:53 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:58:53 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 10:58:53 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:58:53 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:58:53 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:58:53 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:58:53 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:58:53 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:58:53 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:58:53 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:58:53 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:58:53 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:58:53 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:58:53 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 13:58:53 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 13:58:53 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:58:53 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:58:53 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:59:06 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:59:06 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:59:06 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:59:07 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:59:07 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:59:07 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:59:07 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:59:07 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:59:07 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:59:07 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:59:07 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:59:07 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:59:07 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:59:07 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:59:07 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:59:07 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:59:07 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:59:07 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:59:07 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:59:07 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:59:07 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:59:07 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:59:07 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:59:07 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:59:07 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:59:07 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:59:07 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:59:07 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:59:07 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:59:07 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:07 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:59:07 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:59:07 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:08 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:59:08 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:59:08 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:59:08 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:08 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:59:08 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:59:08 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:59:08 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:59:08 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:59:08 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:08 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:59:08 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:59:08 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:08 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:59:08 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:59:08 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-psc62' match pattern
[36m[2023-09-27 13:59:08 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-psc62']'
[32m[2023-09-27 13:59:08 INFO] [activity:257][39m Pausing after activity for 2s...
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:10 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:59:10 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:10 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:59:10 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 13:59:10 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 13:59:10 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:10 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:59:10 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 10:59:10 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:59:10 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:59:10 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:10 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:59:10 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:10 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:59:10 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 13:59:10 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 13:59:10 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 13:59:10 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 13:59:10 CRITICAL] [run:615][39m Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[32m[2023-09-27 13:59:10 INFO] [run:515][39m Experiment ended with status: deviated
[32m[2023-09-27 13:59:10 INFO] [run:517][39m The steady-state has deviated, a weakness may have been discovered
[36m[2023-09-27 13:59:10 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:59:10 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:59:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:59:55 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 13:59:55 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 13:59:55 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 13:59:56 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 13:59:56 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:59:56 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 13:59:56 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:59:56 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 13:59:56 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 13:59:56 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:59:56 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:59:56 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 13:59:57 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 13:59:57 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 13:59:57 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 13:59:57 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 13:59:57 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 13:59:57 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 13:59:57 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 13:59:57 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 13:59:57 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 13:59:57 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 13:59:57 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 13:59:57 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 13:59:57 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:59:57 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 13:59:57 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:57 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:59:57 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:59:57 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:57 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:59:57 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 13:59:57 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:57 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 13:59:57 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 13:59:57 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:59:57 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:57 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 13:59:57 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 13:59:57 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:57 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 13:59:57 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-bsjh2' match pattern
[36m[2023-09-27 13:59:57 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 13:59:57 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-bsjh2']'
[32m[2023-09-27 13:59:57 INFO] [activity:257][39m Pausing after activity for 2s...
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:59 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:59:59 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:59 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:59:59 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 13:59:59 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 13:59:59 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:59 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 13:59:59 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 10:59:59 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 13:59:59 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 13:59:59 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 13:59:59 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 13:59:59 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 13:59:59 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 13:59:59 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 13:59:59 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 13:59:59 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 13:59:59 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 13:59:59 CRITICAL] [run:615][39m Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[32m[2023-09-27 13:59:59 INFO] [run:515][39m Experiment ended with status: deviated
[32m[2023-09-27 13:59:59 INFO] [run:517][39m The steady-state has deviated, a weakness may have been discovered
[36m[2023-09-27 13:59:59 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 13:59:59 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 13:59:59 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:00:42 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:00:42 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:00:42 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:00:43 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:00:43 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:00:43 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:00:43 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:00:43 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:00:43 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:00:43 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:00:43 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:00:43 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:00:44 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:00:44 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:00:44 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:00:44 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:00:44 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:00:44 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:00:44 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:00:44 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:00:44 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:00:44 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:00:44 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:00:44 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:00:44 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:00:44 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:00:44 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:00:44 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:00:44 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:00:44 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:00:44 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:00:44 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:00:44 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:00:44 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:00:44 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:00:44 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:00:44 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:00:44 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:00:44 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:00:44 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:00:44 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:00:44 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-27hnp' match pattern
[36m[2023-09-27 14:00:44 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-ph6qr' match pattern
[36m[2023-09-27 14:00:44 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-ph6qr']'
[32m[2023-09-27 14:00:44 INFO] [activity:257][39m Pausing after activity for 2s...
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:00:46 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:00:46 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:00:46 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:00:46 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 14:00:46 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 14:00:46 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:00:46 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:00:46 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:00:46 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:00:46 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:00:46 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:00:46 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:00:46 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:00:46 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:00:46 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 14:00:46 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 14:00:46 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 14:00:46 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 14:00:46 CRITICAL] [run:615][39m Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[32m[2023-09-27 14:00:46 INFO] [run:515][39m Experiment ended with status: deviated
[32m[2023-09-27 14:00:46 INFO] [run:517][39m The steady-state has deviated, a weakness may have been discovered
[36m[2023-09-27 14:00:46 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:00:46 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:00:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:03:04 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:03:04 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:03:04 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:03:05 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:03:05 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:03:05 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:03:05 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:03:05 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:03:05 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:03:05 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:03:05 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:03:05 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:03:05 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:03:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:03:05 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:03:05 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:03:05 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:03:05 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:03:05 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:03:05 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:03:05 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:03:05 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:03:05 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:03:05 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:03:05 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:03:05 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:03:05 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:03:05 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:03:05 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:03:05 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:05 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:03:05 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:03:05 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:06 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:03:06 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:03:06 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:03:06 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:06 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:03:06 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:03:06 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:03:06 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:03:06 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:03:06 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:06 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:03:06 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:03:06 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:06 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:03:06 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-27hnp' match pattern
[36m[2023-09-27 14:03:06 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-r92qj' match pattern
[36m[2023-09-27 14:03:06 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-r92qj']'
[32m[2023-09-27 14:03:06 INFO] [activity:257][39m Pausing after activity for 5s...
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:11 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:03:11 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:11 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:03:11 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:03:11 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:11 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:03:11 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:03:11 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:03:11 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:03:11 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:11 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:03:11 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:11 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:03:11 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:03:11 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:11 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:03:11 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:03:11 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:03:11 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:03:11 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:03:11 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:03:11 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:03:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:03:34 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:03:34 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:03:34 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:03:35 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:03:35 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:03:35 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:03:35 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:03:35 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:03:35 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:03:35 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:03:35 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:03:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:03:35 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:03:35 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:03:35 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:03:35 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:03:35 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:03:35 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:03:35 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:03:35 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:03:35 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:03:35 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:03:35 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:03:35 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:03:35 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:35 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:03:35 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:03:35 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:35 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:03:35 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:03:35 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:35 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:03:35 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:03:35 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:03:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:35 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:03:35 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:03:35 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:35 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:03:35 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-27hnp' match pattern
[36m[2023-09-27 14:03:35 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-2wh8k' match pattern
[36m[2023-09-27 14:03:35 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-27hnp']'
[32m[2023-09-27 14:03:35 INFO] [activity:257][39m Pausing after activity for 7s...
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:42 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:03:42 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:42 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:03:42 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:03:42 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:42 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:03:42 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:03:42 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:03:42 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:03:42 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:03:42 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:03:42 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:03:42 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:03:42 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:03:42 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:03:42 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:03:42 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:03:42 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:03:42 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:03:42 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:03:42 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:03:42 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:03:42 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:04:06 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:04:06 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:04:06 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:04:08 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:04:08 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:04:08 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:04:08 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:04:08 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:04:08 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:04:08 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:04:08 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:04:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:04:08 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:04:08 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:04:08 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:04:08 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:04:08 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:04:08 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:04:08 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:04:08 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:04:08 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:04:08 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:04:08 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:04:08 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:04:08 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:08 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:04:08 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:04:08 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:08 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:04:08 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:04:08 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:04:08 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:04:08 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:04:08 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:04:08 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:08 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:04:08 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:04:08 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:08 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:04:08 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-2wh8k' match pattern
[36m[2023-09-27 14:04:08 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-k5q7j' match pattern
[36m[2023-09-27 14:04:08 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-2wh8k']'
[32m[2023-09-27 14:04:08 INFO] [activity:257][39m Pausing after activity for 8s...
[36m[2023-09-27 14:04:16 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:04:16 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:16 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:04:16 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:04:16 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:17 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:04:17 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:04:17 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:17 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:04:17 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:04:17 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:04:17 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:04:17 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:17 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:04:17 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:17 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:04:17 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:04:17 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:04:17 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:04:17 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:04:17 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:04:17 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:04:17 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:04:17 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:04:17 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:04:17 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:04:33 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:04:33 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:04:33 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:04:34 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:04:34 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:04:34 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:04:34 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:04:34 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:04:34 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:04:34 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:04:34 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:04:34 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:04:34 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:04:34 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:04:34 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:04:34 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:04:34 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:04:34 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:04:34 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:04:34 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:04:34 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:04:34 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:04:34 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:04:34 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:04:34 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:34 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:04:34 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:04:34 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:34 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:04:34 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 14:04:34 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 14:04:34 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 14:04:34 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 14:04:34 CRITICAL] [run:579][39m Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[32m[2023-09-27 14:04:34 INFO] [run:515][39m Experiment ended with status: failed
[36m[2023-09-27 14:04:34 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:04:34 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:04:34 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:04:48 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:04:48 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:04:48 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:04:49 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:04:49 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:04:49 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:04:49 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:04:49 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:04:49 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:04:49 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:04:49 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:04:49 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:04:50 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:04:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:04:50 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:04:50 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:04:50 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:04:50 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:04:50 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:04:50 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:04:50 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:04:50 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:04:50 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:04:50 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:04:50 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:04:50 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:04:50 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:50 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:04:50 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:04:50 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:50 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:04:50 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:04:50 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:04:50 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:04:50 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:04:50 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:04:50 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:04:50 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:04:50 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:04:50 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:04:50 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:04:50 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-k5q7j' match pattern
[36m[2023-09-27 14:04:50 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-nstq4' match pattern
[36m[2023-09-27 14:04:50 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-k5q7j']'
[32m[2023-09-27 14:04:50 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:00 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:05:00 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:00 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:05:00 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 14:05:00 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 14:05:00 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:00 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:05:00 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:05:00 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:05:00 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:05:00 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:00 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:05:00 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:00 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:05:00 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 14:05:00 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 14:05:00 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 14:05:00 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 14:05:00 CRITICAL] [run:615][39m Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[32m[2023-09-27 14:05:00 INFO] [run:515][39m Experiment ended with status: deviated
[32m[2023-09-27 14:05:00 INFO] [run:517][39m The steady-state has deviated, a weakness may have been discovered
[36m[2023-09-27 14:05:00 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:05:00 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:05:00 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:05:33 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:05:33 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:05:33 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:05:34 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:05:34 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:05:34 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:05:34 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:05:34 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:05:34 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:05:34 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:05:34 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:05:34 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:05:35 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:05:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:05:35 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:05:35 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:05:35 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:05:35 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:05:35 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:05:35 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:05:35 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:05:35 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:05:35 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:05:35 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:05:35 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:05:35 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:05:35 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:35 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:05:35 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:05:35 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:35 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:05:35 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:05:35 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:35 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:05:35 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:05:35 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:05:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:35 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:05:35 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:05:35 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:35 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:05:35 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-nstq4' match pattern
[36m[2023-09-27 14:05:35 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-sxgjm' match pattern
[36m[2023-09-27 14:05:35 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-sxgjm']'
[32m[2023-09-27 14:05:35 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:45 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:05:45 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:45 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:05:45 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:05:45 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:45 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:05:45 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:05:45 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:05:45 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:05:45 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:45 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:05:45 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:05:45 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:46 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:05:46 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:05:46 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:05:46 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:46 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:05:46 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:05:46 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:05:46 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:05:46 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:05:46 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:05:46 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:05:46 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:05:46 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:05:46 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:05:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:05:49 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:05:49 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:05:49 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:05:50 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:05:50 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:05:50 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:05:50 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:05:50 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:05:50 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:05:50 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:05:50 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:05:50 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:05:51 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:05:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:05:51 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:05:51 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:05:51 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:05:51 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:05:51 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:05:51 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:05:51 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:05:51 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:05:51 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:05:51 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:05:51 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:05:51 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:05:51 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:51 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:05:51 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:05:51 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:51 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:05:51 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:05:51 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:05:51 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:05:51 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:05:51 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:05:51 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:05:51 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:05:51 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:05:51 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:05:51 DEBUG] [actions:232][39m Found 3 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:05:51 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-88w2f' match pattern
[36m[2023-09-27 14:05:51 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-nstq4' match pattern
[36m[2023-09-27 14:05:51 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-sxgjm' match pattern
[36m[2023-09-27 14:05:51 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-88w2f']'
[32m[2023-09-27 14:05:51 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:06:01 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:06:01 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:06:01 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:06:01 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:06:01 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:06:01 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:06:01 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:06:01 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:06:01 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:06:01 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:06:01 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:06:01 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:06:01 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:06:01 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:06:01 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:06:01 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:06:01 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:06:01 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:06:01 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:06:01 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:06:01 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:06:01 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:06:01 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:06:58 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:06:58 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:06:58 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:06:59 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:06:59 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:06:59 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:06:59 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:06:59 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:06:59 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:06:59 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:06:59 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:06:59 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:06:59 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:06:59 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:06:59 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:06:59 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:06:59 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:06:59 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:06:59 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:06:59 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:06:59 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:06:59 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:06:59 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:06:59 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:06:59 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:06:59 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:06:59 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:06:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:06:59 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:06:59 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:06:59 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:06:59 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:06:59 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:06:59 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:06:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:06:59 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:06:59 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:06:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:06:59 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:06:59 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-4wxdq' match pattern
[36m[2023-09-27 14:06:59 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-nstq4' match pattern
[36m[2023-09-27 14:06:59 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-nstq4']'
[32m[2023-09-27 14:06:59 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:07:09 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:09 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:09 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:07:09 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:07:09 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:07:10 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:07:10 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:07:10 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:10 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:07:10 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:07:10 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:07:10 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:07:10 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:10 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:07:10 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:07:10 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:07:10 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:07:10 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:10 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:07:10 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:07:10 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:07:10 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:07:10 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:07:10 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:07:10 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:07:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:07:43 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:07:43 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:07:43 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:07:44 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:07:44 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:07:44 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:07:44 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:07:44 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:07:44 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:07:44 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:07:44 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:07:44 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:07:45 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:07:45 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:07:45 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:07:45 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:07:45 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:07:45 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:07:45 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:07:45 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:07:45 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:07:45 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:07:45 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:07:45 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:07:45 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:07:45 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:07:45 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:45 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:07:45 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:07:45 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:07:45 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:07:45 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:07:45 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:45 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:07:45 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:07:45 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:07:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:45 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:07:45 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:07:45 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:07:45 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:07:45 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-4wxdq' match pattern
[36m[2023-09-27 14:07:45 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-pdv5d' match pattern
[36m[2023-09-27 14:07:45 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-pdv5d']'
[32m[2023-09-27 14:07:45 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:55 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:07:55 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:07:55 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:07:55 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:07:55 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:55 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:07:55 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1256, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1302, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1251, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1011, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 951, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fa5db58c820>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=36144): Max retries exceeded with url: /api/v1/server/0/device/1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa5db58c820>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 519, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=36144): Max retries exceeded with url: /api/v1/server/0/device/1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa5db58c820>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36144/api/v1/server/0/device/1: HTTPConnectionPool(host='localhost', port=36144): Max retries exceeded with url: /api/v1/server/0/device/1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa5db58c820>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2023-09-27 14:07:55 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36144/api/v1/server/0/device/1: HTTPConnectionPool(host='localhost', port=36144): Max retries exceeded with url: /api/v1/server/0/device/1 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa5db58c820>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:07:55 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:07:55 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:07:55 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:07:55 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:07:55 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:07:55 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:07:55 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:07:55 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:07:55 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:07:55 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:07:55 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:07:55 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:07:55 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:07:55 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:07:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:20:00 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:20:00 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:20:00 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:20:01 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:20:01 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:20:01 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:20:01 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:20:01 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:20:01 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:20:01 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:20:01 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:20:01 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:20:02 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:20:02 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:20:02 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:20:02 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:20:02 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:20:02 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:20:02 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:20:02 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:20:02 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:20:02 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:20:02 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:20:02 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:20:02 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:20:02 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:20:02 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:20:02 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:20:02 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:20:02 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:20:02 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:20:02 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:20:02 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:20:02 DEBUG] [hypothesis:226][39m allowed tolerance is True
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:20:02 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:20:02 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:20:02 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:20:02 DEBUG] [hypothesis:226][39m allowed tolerance is 200
[32m[2023-09-27 14:20:02 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:20:02 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:20:02 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:20:02 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:20:02 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:20:02 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:20:02 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:20:02 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-4wxdq' match pattern
[36m[2023-09-27 14:20:02 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-xjzjz' match pattern
[36m[2023-09-27 14:20:02 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-4wxdq']'
[32m[2023-09-27 14:20:02 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:20:12 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:20:12 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:20:12 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:20:12 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:20:12 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:20:12 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:20:12 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:20:12 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:20:12 DEBUG] [hypothesis:226][39m allowed tolerance is True
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:20:12 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:20:12 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:20:11 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:20:12 DEBUG] [hypothesis:226][39m allowed tolerance is 200
[32m[2023-09-27 14:20:12 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:20:12 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:20:12 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:20:12 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:20:12 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:20:12 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:20:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:20:21 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:20:21 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:20:21 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:20:22 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:20:22 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:20:22 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:20:22 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:20:22 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:20:22 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:20:22 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:20:22 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:20:22 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:20:23 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:20:23 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:20:23 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:20:23 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:20:23 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:20:23 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:20:23 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:20:23 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:20:23 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:20:23 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:20:23 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:20:23 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:20:23 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:20:23 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:20:23 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:20:23 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:20:23 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:20:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:20:23 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:20:23 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:20:23 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:20:23 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:20:23 DEBUG] [probes:59][39m Deployment has '1' available replicas
[36m[2023-09-27 14:20:23 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 287, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 58, in run_python_activity
        raise ActivityFailed(
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 56, in run_python_activity
        return func(**arguments)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py", line 69, in deployment_available_and_healthy
        raise ActivityFailed(m)
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[31m[2023-09-27 14:20:23 ERROR] [activity:245][39m   => failed: chaoslib.exceptions.ActivityFailed: Deployment 'web-service-app-deployment' is not healthy
[36m[2023-09-27 14:20:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 14:20:23 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 14:20:23 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 14:20:23 CRITICAL] [run:579][39m Steady state probe 'all-services-are-healthy' is not in the given tolerance so failing this experiment
[32m[2023-09-27 14:20:23 INFO] [run:515][39m Experiment ended with status: failed
[36m[2023-09-27 14:20:23 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:20:23 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:20:23 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:22:11 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:22:11 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:22:11 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:22:12 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:22:12 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:22:12 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:22:12 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:22:12 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:22:12 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:22:12 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:22:12 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:22:12 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:22:13 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:22:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:22:13 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:22:13 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:22:13 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:22:13 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:22:13 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:22:13 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:22:13 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:22:13 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:22:13 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:22:13 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:22:13 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:22:13 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:22:13 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:22:13 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:22:13 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:22:13 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:22:13 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:22:13 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:22:13 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:22:13 DEBUG] [hypothesis:226][39m allowed tolerance is True
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:22:13 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:22:13 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:22:13 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:22:13 DEBUG] [hypothesis:226][39m allowed tolerance is 200
[32m[2023-09-27 14:22:13 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:22:13 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:22:13 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:22:13 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:22:13 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:22:13 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:22:13 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:22:13 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-2lx8n' match pattern
[36m[2023-09-27 14:22:13 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-xjzjz' match pattern
[36m[2023-09-27 14:22:13 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-xjzjz']'
[32m[2023-09-27 14:22:13 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:22:23 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:22:23 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:22:23 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:22:23 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:22:23 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:22:23 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:22:23 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:22:23 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:22:23 DEBUG] [hypothesis:226][39m allowed tolerance is True
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:22:23 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:22:23 DEBUG] [activity:294][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    ConnectionResetError: [Errno 104] Connection reset by peer
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 486, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 702, in reraise
        raise value.with_traceback(tb)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1348, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 316, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 277, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 50, in run_http_activity
        r = s.get(
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 602, in get
        return self.request("GET", url, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 589, in request
        resp = self.send(prep, **send_kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/sessions.py", line 703, in send
        r = adapter.send(request, **kwargs)
      File "/home/yuval/.local/lib/python3.8/site-packages/requests/adapters.py", line 501, in send
        raise ConnectionError(err, request=request)
    requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 291, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/yuval/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 96, in run_http_activity
        raise ActivityFailed(f"failed to connect to {url}: {str(cex)}")
    chaoslib.exceptions.ActivityFailed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[31m[2023-09-27 14:22:23 ERROR] [activity:245][39m   => failed: failed to connect to http://localhost:36147/api/v1/server/0/device/1: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[33m[2023-09-27 14:22:23 WARNING] [hypothesis:213][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[31m[2023-09-27 14:22:23 CRITICAL] [run:615][39m Steady state probe 'consumer-service-must-still-respond' is not in the given tolerance so failing this experiment
[32m[2023-09-27 14:22:23 INFO] [run:515][39m Experiment ended with status: deviated
[32m[2023-09-27 14:22:23 INFO] [run:517][39m The steady-state has deviated, a weakness may have been discovered
[36m[2023-09-27 14:22:23 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:22:23 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:22:23 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:23:33 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:23:33 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:23:33 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:23:34 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:23:34 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:23:34 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:23:34 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:23:34 DEBUG] [caching:35][39m Cached 3 activities
[32m[2023-09-27 14:23:34 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:23:34 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:23:34 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:23:34 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:23:35 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:23:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:23:35 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:23:35 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:23:35 DEBUG] [caching:35][39m Cached 3 activities
[36m[2023-09-27 14:23:35 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:23:35 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:23:35 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:23:35 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:23:35 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:23:35 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:23:35 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:23:35 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:23:35 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:23:35 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:23:35 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:23:35 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:23:35 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:23:35 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:23:35 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:23:35 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:23:35 DEBUG] [hypothesis:226][39m allowed tolerance is True
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:23:35 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:23:35 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:23:35 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:23:35 DEBUG] [hypothesis:226][39m allowed tolerance is 200
[32m[2023-09-27 14:23:35 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:23:35 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:23:35 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:23:35 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:23:35 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:23:35 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:23:35 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:23:35 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-2lx8n' match pattern
[36m[2023-09-27 14:23:35 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-hq5r5' match pattern
[36m[2023-09-27 14:23:35 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-2lx8n']'
[32m[2023-09-27 14:23:35 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:23:45 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:23:45 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:23:45 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:23:45 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:23:45 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:23:45 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:23:45 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:23:45 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:23:45 DEBUG] [hypothesis:226][39m allowed tolerance is True
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:23:45 INFO] [activity:215][39m Probe: consumer-service-must-still-respond
[36m[2023-09-27 14:23:45 DEBUG] [activity:237][39m   => succeeded with '{'status': 200, 'headers': {'Content-Length': '0', 'Date': 'Wed, 27 Sep 2023 11:23:45 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}, 'body': ''}'
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:23:45 DEBUG] [hypothesis:226][39m allowed tolerance is 200
[32m[2023-09-27 14:23:45 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:23:45 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:23:45 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:23:45 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:23:45 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:23:45 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:23:45 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:48:37 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:48:37 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:48:37 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:48:38 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:48:38 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:48:38 DEBUG] [caching:35][39m Cached 2 activities
[32m[2023-09-27 14:48:38 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:48:38 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:48:38 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:48:38 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:48:38 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:48:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:48:38 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:48:38 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:48:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2023-09-27 14:48:38 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:48:38 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:48:38 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:48:38 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:48:38 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:48:38 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:48:38 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:48:38 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:48:38 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:48:38 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:48:38 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:48:38 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:48:38 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:48:38 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:48:38 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:48:38 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:48:38 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:48:38 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:48:38 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:48:38 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:48:38 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:48:38 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:48:38 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:48:38 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:48:38 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-6vpbd' match pattern
[36m[2023-09-27 14:48:38 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-hq5r5' match pattern
[36m[2023-09-27 14:48:38 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-hq5r5']'
[32m[2023-09-27 14:48:38 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:48:48 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:48:48 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:48:48 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:48:48 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:48:48 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:48:48 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:48:48 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:48:48 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:48:48 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:48:48 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:48:48 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:48:48 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:48:48 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:48:48 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:48:48 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:48:48 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:48:59 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:48:59 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:48:59 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:49:00 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:49:00 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:49:00 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:49:00 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:49:00 DEBUG] [caching:35][39m Cached 2 activities
[32m[2023-09-27 14:49:00 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:49:00 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:49:00 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:49:00 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:49:01 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:49:01 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:49:01 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:49:01 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:49:01 DEBUG] [caching:35][39m Cached 2 activities
[36m[2023-09-27 14:49:01 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:49:01 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:49:01 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:49:01 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:49:01 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:49:01 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:49:01 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:49:01 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:49:01 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:49:01 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:49:01 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:49:01 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:49:01 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:49:01 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:49:01 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:49:01 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:49:01 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:49:01 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:49:01 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:49:01 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:49:01 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:49:01 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:49:01 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:49:01 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:49:01 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-6vpbd' match pattern
[36m[2023-09-27 14:49:01 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-vkvmr' match pattern
[36m[2023-09-27 14:49:01 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-vkvmr']'
[32m[2023-09-27 14:49:01 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:49:11 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:49:11 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:49:11 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:49:11 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:49:11 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:49:11 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:49:11 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:49:11 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:49:11 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:49:11 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:49:11 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:49:11 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:49:11 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:49:11 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:49:11 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:49:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:49:57 DEBUG] [cli:114][39m ###############################################################################
[36m[2023-09-27 14:49:57 DEBUG] [cli:115][39m Running command 'run'
[36m[2023-09-27 14:49:57 DEBUG] [cli:119][39m Using settings file '/home/yuval/.chaostoolkit/settings.yaml'
[36m[2023-09-27 14:49:58 DEBUG] [settings:30][39m The Chaos Toolkit settings file could not be found at '/home/yuval/.chaostoolkit/settings.yaml'.
[36m[2023-09-27 14:49:58 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:49:58 DEBUG] [__init__:445][39m No controls to apply on 'loader'
[36m[2023-09-27 14:49:58 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:49:58 DEBUG] [caching:35][39m Cached 2 activities
[32m[2023-09-27 14:49:58 INFO] [experiment:58][39m Validating the experiment's syntax
[36m[2023-09-27 14:49:58 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:49:58 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:49:58 DEBUG] [secret:103][39m Done loading secrets
[32m[2023-09-27 14:49:59 INFO] [experiment:109][39m Experiment looks valid
[36m[2023-09-27 14:49:59 DEBUG] [caching:42][39m Clearing activities cache
[36m[2023-09-27 14:49:59 DEBUG] [cli:314][39m Runtime strategies: hypothesis - default / rollbacks - default
[36m[2023-09-27 14:49:59 DEBUG] [caching:24][39m Building activity cache...
[36m[2023-09-27 14:49:59 DEBUG] [caching:35][39m Cached 2 activities
[36m[2023-09-27 14:49:59 DEBUG] [configuration:63][39m Loading configuration...
[36m[2023-09-27 14:49:59 DEBUG] [secret:78][39m Loading secrets...
[36m[2023-09-27 14:49:59 DEBUG] [secret:103][39m Done loading secrets
[36m[2023-09-27 14:49:59 DEBUG] [configuration:160][39m Loading dynamic configuration...
[32m[2023-09-27 14:49:59 INFO] [run:369][39m Running experiment: System is resilient to provider's failures
[36m[2023-09-27 14:49:59 DEBUG] [__init__:59][39m Initializing controls
[32m[2023-09-27 14:49:59 INFO] [run:396][39m Steady-state strategy: default
[32m[2023-09-27 14:49:59 INFO] [run:400][39m Rollbacks strategy: default
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:49:59 DEBUG] [run:563][39m Running steady-state hypothesis before the method
[32m[2023-09-27 14:49:59 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:49:59 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:49:59 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:49:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:49:59 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:49:59 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:49:59 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:49:59 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:49:59 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:49:59 INFO] [run:677][39m Playing your experiment's method now...
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:49:59 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:49:59 INFO] [activity:215][39m Action: terminate-webapp-pod
[36m[2023-09-27 14:49:59 DEBUG] [python:33][39m Activity 'terminate-webapp-pod' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/pod/actions.py'
[36m[2023-09-27 14:49:59 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:49:59 DEBUG] [actions:232][39m Found 2 pods labelled 'app=web-service-app' in ns default
[36m[2023-09-27 14:49:59 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-6vpbd' match pattern
[36m[2023-09-27 14:49:59 DEBUG] [actions:245][39m Pod 'web-service-app-deployment-78d99bfc5f-btnd8' match pattern
[36m[2023-09-27 14:49:59 DEBUG] [activity:237][39m   => succeeded with '['web-service-app-deployment-78d99bfc5f-btnd8']'
[32m[2023-09-27 14:49:59 INFO] [activity:257][39m Pausing after activity for 10s...
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'method'
[36m[2023-09-27 14:50:09 DEBUG] [run:599][39m Running steady-state hypothesis after the method
[32m[2023-09-27 14:50:09 INFO] [hypothesis:186][39m Steady state hypothesis: Services are all available and healthy
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[32m[2023-09-27 14:50:09 INFO] [activity:215][39m Probe: all-services-are-healthy
[36m[2023-09-27 14:50:09 DEBUG] [python:33][39m Activity 'all-services-are-healthy' loaded from '/home/yuval/.local/lib/python3.8/site-packages/chaosk8s/deployment/probes.py'
[36m[2023-09-27 14:50:09 DEBUG] [__init__:73][39m Using Kubernetes context 'default' from config '/home/yuval/.kube/config'
[36m[2023-09-27 14:50:09 DEBUG] [probes:48][39m Found 1 deployment(s) named 'web-service-app-deployment' in ns 'default'
[36m[2023-09-27 14:50:09 DEBUG] [probes:59][39m Deployment has '2' available replicas
[36m[2023-09-27 14:50:09 DEBUG] [activity:237][39m   => succeeded with 'True'
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'activity'
[36m[2023-09-27 14:50:09 DEBUG] [hypothesis:226][39m allowed tolerance is True
[32m[2023-09-27 14:50:09 INFO] [hypothesis:236][39m Steady state hypothesis is met!
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'hypothesis'
[32m[2023-09-27 14:50:09 INFO] [run:957][39m Let's rollback...
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:50:09 INFO] [rollback:31][39m No declared rollbacks, let's move on.
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'rollback'
[32m[2023-09-27 14:50:09 INFO] [run:515][39m Experiment ended with status: completed
[36m[2023-09-27 14:50:09 DEBUG] [__init__:445][39m No controls to apply on 'experiment'
[36m[2023-09-27 14:50:09 DEBUG] [__init__:98][39m Cleaning up controls
[36m[2023-09-27 14:50:09 DEBUG] [caching:42][39m Clearing activities cache
